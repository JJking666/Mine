(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-Friends-friends"],{"06c5":function(e,t,i){"use strict";i("a630"),i("fb6a"),i("d3b7"),i("25f0"),i("3ca3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(i("6b75"));function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(e){if("string"===typeof e)return(0,a.default)(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?(0,a.default)(e,t):void 0}}},"09f0":function(e,t,i){"use strict";function a(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var i=[],a=!0,n=!1,r=void 0;try{for(var d,o=e[Symbol.iterator]();!(a=(d=o.next()).done);a=!0)if(i.push(d.value),t&&i.length===t)break}catch(s){n=!0,r=s}finally{try{a||null==o["return"]||o["return"]()}finally{if(n)throw r}}return i}}i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},"0d21":function(e,t,i){"use strict";function a(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},"26e5":function(e,t,i){"use strict";i.r(t);var a=i("7a43"),n=i("5685");for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);i("5a57");var d,o=i("f0c5"),s=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"628c500a",null,!1,a["a"],d);t["default"]=s.exports},3835:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var a=o(i("0d21")),n=o(i("09f0")),r=o(i("06c5")),d=o(i("3d8c"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return(0,a.default)(e)||(0,n.default)(e,t)||(0,r.default)(e,t)||(0,d.default)()}},"3d8c":function(e,t,i){"use strict";function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},"539a":function(e,t,i){"use strict";var a=i("4ea4");i("4160"),i("a434"),i("ac1f"),i("5319"),i("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("3835")),r={data:function(){return{inputValue:"",inputing:"",ID:"",friends:[],deleteFriendID1:[],deleteFriendID2:[],selectPeople:[]}},methods:{select:function(){var e=this,t=this;this.inputValue.length<1?this.selectPeople=[]:(this.inputing&&clearInterval(this.inputing),this.inputing=setTimeout((function(){var i={data:t.inputValue},a=e.$qs.parse(i);uni.request({url:"http://127.0.0.1:3000/user/queryUser1",data:a}).then((function(i){var a=(0,n.default)(i,2);a[0],a[1];t.selectPeople=i[1].data.data,t.selectPeople.forEach((function(i){i.Name=i.Name.replace(t.inputValue,'<span style="color: grey">'.concat(e.inputValue,"</span>"))}))}))}),500))},addFriend:function(e){var t=this,i={UserID:this.ID,PeopleID:e};i=this.$qs.parse(i),uni.request({url:"http://127.0.0.1:3000/relationship/addRelationship",data:i}).then((function(e){var i=(0,n.default)(e,2),a=(i[0],i[1]);if(console.log(a,a.data.data.PeopleID),1==a.data.data.status){var r={_id:a.data.data.PeopleID};uni.request({url:"http://127.0.0.1:3000/user/queryUserById",data:r}).then((function(e){var i=(0,n.default)(e,2),a=(i[0],i[1]),r={status:1};r.id=a.data.data[0]._id,r.headImg=a.data.data[0].HeadImg,r.name=a.data.data[0].Name,r.sex=a.data.data[0].Sex,console.log(r),t.friends.push(r)}))}2==a.data.data.status&&t.friends.forEach((function(e){e.id==a.data.data.PeopleID&&t.$set(e,"status",2)}))}))},cancelFriend:function(e,t){var i=this;console.log(e,t),this.friends.forEach((function(t,a){t.id!=e||i.friends.splice(a,1)}));var a={UserID:this.ID,PeopleID:e,status:t};1==a.status?this.deleteFriendID1.push(a):this.deleteFriendID2.push(a)}},onUnload:function(){var e={UserID:this.ID,deleteFriendID1:this.deleteFriendID1,deleteFriendID2:this.deleteFriendID2};console.log(e);var t=this.$qs.parse(e);uni.request({url:"http://127.0.0.1:3000/relationship/deleteRelationship",data:t}).then((function(e){console.log("ok1")}))},onLoad:function(e){var t=this,i=this;uni.request({url:'http://127.0.0.1:3000/relationship/queryRelationship?data={"UserID":"'+e.ID+'","status":[1,2]}'}).then((function(a){var r=(0,n.default)(a,2),d=(r[0],r[1]);t.ID=e.ID,console.log(d.data.data),d.data.data.forEach((function(e){var t={};t.status=e.status;var a={_id:e.PeopleID};uni.request({url:"http://127.0.0.1:3000/user/queryUserById",data:a}).then((function(e){var a=(0,n.default)(e,2),r=a[0],d=a[1];console.log(2,r,d),d.data.data.length&&(t.id=d.data.data[0]._id,t.headImg=d.data.data[0].HeadImg,t.name=d.data.data[0].Name,t.sex=d.data.data[0].Sex,i.friends.push(t))}))}))}))}};t.default=r},5685:function(e,t,i){"use strict";i.r(t);var a=i("539a"),n=i.n(a);for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t["default"]=n.a},"5a57":function(e,t,i){"use strict";var a=i("e0d0"),n=i.n(a);n.a},"6b75":function(e,t,i){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},"7a43":function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"friends"},[a("v-uni-image",{attrs:{id:"record-bk",src:i("eeb2"),mode:""}}),a("v-uni-input",{attrs:{id:"record-input",placeholder:"输入手机号或昵称","placeholder-style":""},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.select.apply(void 0,arguments)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),a("v-uni-view",{staticClass:"selectPeople"},e._l(e.selectPeople,(function(t,i){return a("v-uni-view",{key:i,staticClass:"select-item"},[a("v-uni-image",{attrs:{src:t.HeadImg}}),a("v-uni-view",{staticStyle:{display:"inline-block"},domProps:{innerHTML:e._s(t.Name)}}),a("v-uni-image",{attrs:{src:"man"==t.sex?"../../static/img/more/biaoqianA01_shezhi-45.png":"../../static/img/more/dianzan.png",mode:""}}),a("v-uni-button",{on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.addFriend(t._id)}}},[e._v("关注")])],1)})),1),a("v-uni-view",{staticClass:"content"},e._l(e.friends,(function(t,i){return a("v-uni-view",{key:i,staticClass:"friend-item"},[a("v-uni-image",{attrs:{src:t.headImg}}),a("v-uni-text",[e._v(e._s(t.name))]),a("v-uni-image",{attrs:{src:"man"==t.sex?"../../static/img/more/biaoqianA01_shezhi-45.png":"../../static/img/more/dianzan.png",mode:""}}),a("v-uni-button",{on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.cancelFriend(t.id,t.status)}}},[e._v("已关注")])],1)})),1)],1)},r=[]},e0d0:function(e,t,i){var a=i("f616");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("26a88dd8",a,!0,{sourceMap:!1,shadowMode:!1})},eeb2:function(e,t,i){e.exports=i.p+"static/img/微信图片_20211126111413.3ca263f4.jpg"},f616:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.radius-button[data-v-628c500a]{border:1px solid transparent;border-radius:2vh}.create[data-v-628c500a]{border:1px solid transparent;border-radius:50%;position:fixed;right:4vw;bottom:20vh;width:15vw;height:15vw;background-color:#a7dab9;padding:2vw 2vw;box-sizing:border-box;border:%?1?% solid #a5a5a5}.create uni-image[data-v-628c500a]{width:11vw;height:11vw;size:100%}.friends[data-v-628c500a]{width:100vw;height:100vh;box-sizing:border-box;overflow:auto}.friends #record-input[data-v-628c500a]{margin:2vh auto;width:70vw;height:6vh;border-radius:%?30?%;font-size:%?36?%;background-color:#f6fff9;line-height:6vh;padding:0 5vw;margin-bottom:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.friends .selectPeople[data-v-628c500a]{position:absolute;top:8vh;width:80vw;height:-webkit-fit-content;height:fit-content;background-color:#00f;left:10vw;z-index:9;max-height:50vh;overflow:auto}.friends .selectPeople .select-item[data-v-628c500a]{width:inherit;height:7vh;padding:1vh 3vw;box-sizing:border-box;background-image:linear-gradient(90deg,hsla(0,0%,93.3%,.6) 10%,rgba(1,1,1,.2));border-bottom:%?1?% solid #999992}.friends .selectPeople .select-item uni-image[data-v-628c500a]:nth-of-type(1){width:5vh;height:5vh;display:inline-block;size:100%;vertical-align:middle}.friends .selectPeople .select-item uni-view[data-v-628c500a]{font-size:%?28?%;display:inline-block;width:-webkit-fit-content;width:fit-content;font-weight:500;margin-left:3vw;vertical-align:middle;line-height:5vh}.friends .selectPeople .select-item uni-image[data-v-628c500a]:nth-of-type(2){width:2vh;height:2vh;display:inline-block;size:100%;vertical-align:middle;margin-left:1vw}.friends .selectPeople .select-item uni-button[data-v-628c500a]{width:14vw;height:3vh;float:right;line-height:3vh;font-size:%?25?%;padding:0 2vw;margin-top:1vh}.friends #record-bk[data-v-628c500a]{position:fixed;top:0;left:-30vw;width:160vw;height:inherit;size:100%;z-index:-1}.friends .content[data-v-628c500a]{width:100vw;height:90vh;margin:auto;overflow:auto;margin-top:2vh}.friends .content .friend-item[data-v-628c500a]{width:inherit;height:9vh;padding:1.5vh 10vw;box-sizing:border-box;background-image:linear-gradient(90deg,hsla(0,0%,93.3%,.6) 10%,rgba(1,1,1,.2));border-bottom:%?1?% solid #999992}.friends .content .friend-item uni-image[data-v-628c500a]:nth-of-type(1){width:6vh;height:6vh;display:inline-block;size:100%;vertical-align:middle}.friends .content .friend-item uni-text[data-v-628c500a]{font-size:%?32?%;display:inline-block!important;width:-webkit-fit-content;width:fit-content;height:6vh;font-weight:500;margin-left:3vw;vertical-align:middle;line-height:6vh}.friends .content .friend-item uni-image[data-v-628c500a]:nth-of-type(2){width:3vh;height:3vh;display:inline-block;size:100%;margin-left:1vw;vertical-align:middle}.friends .content .friend-item uni-button[data-v-628c500a]{width:14vw;height:3vh;float:right;line-height:3vh;font-size:%?25?%;padding:0 2vw;margin-top:1.5vh}',""]),e.exports=t}}]);
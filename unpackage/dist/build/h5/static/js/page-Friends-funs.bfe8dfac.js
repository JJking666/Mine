(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-Friends-funs"],{"06c5":function(t,e,n){"use strict";n("a630"),n("fb6a"),n("d3b7"),n("25f0"),n("3ca3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=i(n("6b75"));function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(t){if("string"===typeof t)return(0,a.default)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,a.default)(t,e):void 0}}},"09f0":function(t,e,n){"use strict";function a(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,i=!1,r=void 0;try{for(var o,u=t[Symbol.iterator]();!(a=(o=u.next()).done);a=!0)if(n.push(o.value),e&&n.length===e)break}catch(d){i=!0,r=d}finally{try{a||null==u["return"]||u["return"]()}finally{if(i)throw r}}return n}}n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},"0d21":function(t,e,n){"use strict";function a(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},"1fdc":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.radius-button[data-v-149513a9]{border:1px solid transparent;border-radius:2vh}.create[data-v-149513a9]{border:1px solid transparent;border-radius:50%;position:fixed;right:4vw;bottom:20vh;width:15vw;height:15vw;background-color:#a7dab9;padding:2vw 2vw;box-sizing:border-box;border:%?1?% solid #a5a5a5}.create uni-image[data-v-149513a9]{width:11vw;height:11vw;size:100%}.funs[data-v-149513a9]{width:100vw;height:100vh;box-sizing:border-box;overflow:auto}.funs #record-input[data-v-149513a9]{margin:2vh auto;width:70vw;height:6vh;border:%?1?% solid transparent;border-radius:%?30?%;font-size:%?36?%;background-color:#f6fff9;line-height:6vh;padding:0 5vw}.funs .selectPeople[data-v-149513a9]{position:absolute;top:8vh;width:80vw;height:-webkit-fit-content;height:fit-content;background-color:#00f;left:10vw;z-index:9;max-height:50vh;overflow:auto}.funs .selectPeople .select-item[data-v-149513a9]{width:inherit;height:7vh;padding:1vh 3vw;box-sizing:border-box;background-image:linear-gradient(90deg,hsla(0,0%,93.3%,.6) 10%,rgba(1,1,1,.2));border-bottom:%?1?% solid #999992}.funs .selectPeople .select-item uni-image[data-v-149513a9]:nth-of-type(1){width:5vh;height:5vh;display:inline-block;size:100%;vertical-align:middle}.funs .selectPeople .select-item uni-view[data-v-149513a9]{font-size:%?28?%;display:inline-block;width:-webkit-fit-content;width:fit-content;font-weight:500;margin-left:3vw;vertical-align:middle;line-height:5vh}.funs .selectPeople .select-item uni-image[data-v-149513a9]:nth-of-type(2){width:2vh;height:2vh;display:inline-block;size:100%;vertical-align:middle;margin-left:1vw}.funs .selectPeople .select-item uni-button[data-v-149513a9]{width:14vw;height:3vh;float:right;line-height:3vh;font-size:%?25?%;padding:0 2vw;margin-top:1vh}.funs #record-bk[data-v-149513a9]{position:fixed;top:0;left:-30vw;width:160vw;height:inherit;size:100%;z-index:-1}.funs .content[data-v-149513a9]{width:100vw;height:90vh;margin:auto;overflow:auto}.funs .content .fun-item[data-v-149513a9]{width:inherit;height:9vh;padding:1.5vh 10vw;box-sizing:border-box;background-image:linear-gradient(90deg,hsla(0,0%,93.3%,.6) 10%,rgba(1,1,1,.2));border-bottom:%?1?% solid #999992}.funs .content .fun-item uni-image[data-v-149513a9]:nth-of-type(1){width:6vh;height:6vh;display:inline-block;size:100%;vertical-align:middle}.funs .content .fun-item uni-text[data-v-149513a9]{font-size:%?32?%;display:inline-block;width:-webkit-fit-content;width:fit-content;height:6vh;font-weight:500;margin-left:3vw;vertical-align:middle;line-height:6vh}.funs .content .fun-item uni-image[data-v-149513a9]:nth-of-type(2){width:3vh;height:3vh;display:inline-block;size:100%;vertical-align:middle}.funs .content .fun-item uni-button[data-v-149513a9]{width:14vw;height:3vh;float:right;line-height:3vh;font-size:%?25?%;padding:0 2vw}',""]),t.exports=e},"33e6":function(t,e,n){"use strict";n.r(e);var a=n("66b4"),i=n("4cba");for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("4825");var o,u=n("f0c5"),d=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"149513a9",null,!1,a["a"],o);e["default"]=d.exports},3835:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var a=u(n("0d21")),i=u(n("09f0")),r=u(n("06c5")),o=u(n("3d8c"));function u(t){return t&&t.__esModule?t:{default:t}}function d(t,e){return(0,a.default)(t)||(0,i.default)(t,e)||(0,r.default)(t,e)||(0,o.default)()}},"3d8c":function(t,e,n){"use strict";function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},4825:function(t,e,n){"use strict";var a=n("9a76"),i=n.n(a);i.a},"4cba":function(t,e,n){"use strict";n.r(e);var a=n("a519"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"66b4":function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"funs"},[a("v-uni-image",{attrs:{id:"record-bk",src:n("b847"),mode:""}}),a("v-uni-input",{attrs:{id:"record-input",placeholder:"输入手机号或昵称","placeholder-style":""},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.select.apply(void 0,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),a("v-uni-view",{staticClass:"selectPeople"},t._l(t.selectFun,(function(e,n){return a("v-uni-view",{key:n,staticClass:"select-item"},[a("v-uni-image",{attrs:{src:e.headImg}}),a("v-uni-view",{staticStyle:{display:"inline-block"},domProps:{innerHTML:t._s(e.name)}}),a("v-uni-image",{attrs:{src:"man"==e.sex?"../../static/img/more/biaoqianA01_shezhi-45.png":"../../static/img/more/dianzan.png",mode:""}}),a("v-uni-button",{on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.addFriend(e._id)}}},[t._v("关注")])],1)})),1),a("v-uni-view",{staticClass:"content"},t._l(t.funs,(function(e,n){return a("v-uni-view",{key:n,staticClass:"fun-item"},[a("v-uni-image",{attrs:{src:e.headImg}}),a("v-uni-text",[t._v(t._s(e.name))]),a("v-uni-image",{attrs:{src:"man"==e.sex?"../../static/img/more/biaoqianA01_shezhi-45.png":"../../static/img/more/dianzan.png",mode:""}}),a("v-uni-button",{on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.cancelFun(e.id)}}},[t._v("关注")])],1)})),1)],1)},r=[]},"6b75":function(t,e,n){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},"9a76":function(t,e,n){var a=n("1fdc");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("7364bcd0",a,!0,{sourceMap:!1,shadowMode:!1})},a519:function(t,e,n){"use strict";var a=n("4ea4");n("4160"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("5319"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("3835")),r={data:function(){return{inputValue:"",inputing:"",funs:[],selectFun:[]}},methods:{addFriend:function(){var t=this,e={UserID:this.ID,PeopleID:id};e=this.$qs.parse(e),uni.request({url:"http://127.0.0.1:3000/relationship/addRelationship",data:e}).then((function(e){var n=(0,i.default)(e,2),a=(n[0],n[1]);if(console.log(a,a.data.data.PeopleID),1==a.data.data.status){var r={_id:a.data.data.PeopleID};uni.request({url:"http://127.0.0.1:3000/user/queryUserById",data:r}).then((function(e){var n=(0,i.default)(e,2),a=(n[0],n[1]);console.log("f",a);var r={status:1};r.id=a.data.data[0]._id,r.headImg=a.data.data[0].HeadImg,r.name=a.data.data[0].Name,r.sex=a.data.data[0].Sex,console.log(r),t.friends.push(r)}))}a.data.data.status}))},select:function(){var t=this,e=this;this.inputValue.length<1?this.selectPeople=[]:(this.inputing&&clearInterval(this.inputing),this.inputing=setTimeout((function(){var n=new RegExp(e.inputValue);console.log(n),e.selectFun=[],e.funs.forEach((function(a){if(a.name.match(n)){console.log("m");var i=JSON.parse(JSON.stringify(a));i.name=i.name.replace(e.inputValue,'<span style="color: grey">'.concat(t.inputValue,"</span>")),e.selectFun.push(i)}})),console.log(e.selectFun)}),500))}},onLoad:function(t){var e=this;uni.request({url:'http://127.0.0.1:3000/relationship/queryRelationship?data={"UserID":"'+t.ID+'","status":[0,2]}'}).then((function(t){var n=(0,i.default)(t,2),a=(n[0],n[1]);a.data.data.forEach((function(t){var n={};n.status=t.status;var a={_id:t.PeopleID};uni.request({url:"http://127.0.0.1:3000/user/queryUserById",data:a}).then((function(t){var a=(0,i.default)(t,2),r=(a[0],a[1]);n.id=r.data.data[0]._id,n.headImg=r.data.data[0].HeadImg,n.name=r.data.data[0].Name,n.sex=r.data.data[0].Sex,e.funs.push(n)}))}))}))}};e.default=r},b847:function(t,e,n){t.exports=n.p+"static/img/bk3.7a5401e1.jpg"}}]);